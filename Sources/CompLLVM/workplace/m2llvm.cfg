%==========================================================================
%                     XDS LLVM configuration file
%         Copyright (c) 2020 Excelsior LLC., Novosibirsk, Russia
%==========================================================================

%--------------------------------------------------------------------------
%   Code  Geneartion 
%--------------------------------------------------------------------------
-genasm-

%--------------------------------------------------------------------------
%   Debug Stuff 
%--------------------------------------------------------------------------
-gendebug-
-lineno+
-genhistory-

%--------------------------------------------------------------------------
% Target program RunTime checks setup 
%--------------------------------------------------------------------------
-checkindex-
-checknil-
-checkdindex-
-checktype-
-checkrange-
-checkset-
-checkdiv-
-checkproc-
-assert-
-ioverflow-
-coverflow-
-foverflow-

%--------------------------------------------------------------------------
% Language extensions 
%--------------------------------------------------------------------------
-m2extensions-
-m2addtypes-
-o2extensions-
-o2isopragma+
-o2numext-

%--------------------------------------------------------------------------
% Files extensions 
%--------------------------------------------------------------------------

% -- Source files extensions
-code     = c
-header   = h
-sym      = sym
-oberon   = ob2
-mod      = mod
-def      = def

% -- Output files extensions
-objext   = obj
-libext  := lib
-exeext  := exe
-asmext   = asm

-dllext  := dll
-expext  := edf

%--------------------------------------------------------------------------
% Memory usage setup 
%--------------------------------------------------------------------------

% -- Target program memory usage setup 
-heaplimit   =  30000000
-gcthreshold =  25000000
-stacklimit  =  50000000

% -- Compiler memory usage setup 
-compilerheap  = 320000000
-compilerthres = 120000000

%--------------------------------------------------------------------------
% Project Subsystem setup
%--------------------------------------------------------------------------
-makefile+
-mkfname  = tmp
-mkfext   = mkf
-template = m2llvm.tem
-link     = "nmake /nologo /f %s",mkfname#mkfext

-genlib:-
-libname := default

-exename :=

-changesym+

-xdebug-

%--------------------------------------------------------------------------
% Target program generation setup options
%--------------------------------------------------------------------------
-alignment = 4

-multithread:-
-gui:-

-longname+
-gcauto+


%--------------------------------------------------------------------------
% HARD-SET OPTIONS 
% do not change the following lines to guarantee proper functioning of compiler !!!
%--------------------------------------------------------------------------
-backend = LLVM

-target_cpu = X86
-llvm_target_triple := i386-pc-windows-msvc

-dbgfmt := llvm

-NO_InitFPP:+

%--------------------------------------------------------------------------
% XDS installation location setup
%--------------------------------------------------------------------------
-xdsdir  := 

%--------------------------------------------------------------------------
%                  Errors limit and appearance setup
%--------------------------------------------------------------------------
-decor    = rhtp
-errlim   = 16

-errfmt   = \
"\n* [%s",file;\
" %d",line;\
".%02d",column;\
" %.1s",mode;\
"%03d]\n",errno;\
"* %s\n",errmsg



